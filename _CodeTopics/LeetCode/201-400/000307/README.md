
`307. 区域和检索 - 数组可修改` https://leetcode-cn.com/problems/range-sum-query-mutable/solution/qu-yu-he-jian-suo-shu-zu-ke-xiu-gai-by-l-76xj/
- [x] 方法一：分块处理
- [ ] 方法二：线段树
  * > 线段树 `segmentTree` 是一个二叉树，***每个结点保存数组 `nums` 在区间 `[s,e]` 的最小值、最大值或者总和等信息***。线段树可以用`树`也可以用`数组`（堆式存储）来实现。***对于数组实现，假设根结点的下标为 `0`，如果一个结点在数组的下标为 `node`，那么它的左子结点下标为 `node×2+1`，右子结点下标为 `node×2+2`***。
- [ ] 方法三：树状数组
  * > 关于树状数组的详细介绍可以参考百度百科「[树状数组](https://baike.baidu.com/item/%E6%A0%91%E7%8A%B6%E6%95%B0%E7%BB%84)」，本文不作过多介绍。
  * > 树状数组是一种可以***动态维护序列前缀和的数据结构***（序列下标从 `1` 开始），它的功能是：
    + > 单点修改 `add(index,val)`：把序列第 `index` 个数增加 `val`；
    + > 区间查询 `prefixSum(index)`：查询前 `index` 个元素的前缀和。

关于各类「区间和」问题如何选择解决方案（含模板） https://leetcode.cn/problems/range-sum-query-mutable/solution/guan-yu-ge-lei-qu-jian-he-wen-ti-ru-he-x-41hv/
- > 这是一道很经典的题目，通常还能拓展出一大类问题。 <br> 针对不同的题目，我们有不同的方案可以选择（假设我们有一个数组）：
  ```console
  1. 数组不变，求区间和：「前缀和」、「树状数组」、「线段树」
  2. 多次修改某个数（单点），求区间和：「树状数组」、「线段树」
  3. 多次修改某个区间，输出最终结果：「差分」
  4. 多次修改某个区间，求区间和：「线段树」、「树状数组」（看修改区间范围大小）
  5. 多次将某个区间变成同一个数，求区间和：「线段树」、「树状数组」（看修改区间范围大小）
  ```
- > 这样看来，「线段树」能解决的问题是最多的，那我们是不是无论什么情况都写「线段树」呢？ <br> 答案并不是，而且恰好相反，只有在我们遇到第 4 类问题，不得不写「线段树」的时候，我们才考虑线段树。
- > 因为「线段树」代码很长，而且常数很大，实际表现不算很好。我们只有在不得不用的时候才考虑「线段树」。
- > 总结一下，我们应该按这样的优先级进行考虑：
  ```console
  1. 简单求区间和，用「前缀和」
  2. 多次将某个区间变成同一个数，用「线段树」
  3. 其他情况，用「树状数组」
  ```

线段树详解「汇总级别整理 🔥🔥🔥」 https://leetcode.cn/problems/range-sum-query-mutable/solution/by-lfool-v3x9/

```
["NumArray","sumRange","update","sumRange"]
[[[1,3,5]],[0,2],[1,2],[0,2]]

["NumArray","update","update","update","sumRange","update","sumRange","update","sumRange","sumRange","update"]
[[[7,2,7,2,0]],[4,6],[0,2],[0,9],[4,4],[3,8],[0,4],[4,1],[0,3],[0,4],[0,4]]
```
