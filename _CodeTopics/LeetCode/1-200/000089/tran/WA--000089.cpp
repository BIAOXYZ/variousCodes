#include <bitset>
class Solution {
public:
    vector<int> grayCode(int n) {

        if (n == 1)
            return vector<int>{0, 1};
        
        vector<string> res = {"0", "1"};
        int m = 1;
        while (m < n) {
            vector<string> leftHalf, rightHalf;
            for (int i = 0; i < pow(2, m); ++i) {
                leftHalf.push_back(res[i] + '0');
            }
            for (int i = pow(2, m)-1; i > -1; --i) {
                rightHalf.push_back(res[i] + '1');
            }
            res = leftHalf;
            res.insert(res.end(), rightHalf.begin(), rightHalf.end());
            ++m;
        }
        
        vector<int> finalRes = {};
        for (string elem : res) {
            // 这句只能转成十进制数
            // finalRes.push_back(atoi(elem.c_str()));
            finalRes.push_back(std::bitset<8>(elem).to_ulong());
        }
        return finalRes;
    }
};

/*
https://leetcode-cn.com/submissions/detail/256148950/

8 / 16 个通过测试用例
状态：解答错误

输入：
10
输出：
[0,128,192,64,96,224,160,32,48,176,240,112,80,208,144,16,24,152,216,88,120,248,184,56,40,168,232,104,72,200,136,8,12,140,204,76,108,236,172,44,60,188,252,124,92,220,156,28,20,148,212,84,116,244,180,52,36,164,228,100,68,196,132,4,6,134,198,70,102,230,166,38,54,182,246,118,86,214,150,22,30,158,222,94,126,254,190,62,46,174,238,110,78,206,142,14,10,138,202,74,106,234,170,42,58,186,250,122,90,218,154,26,18,146,210,82,114,242,178,50,34,162,226,98,66,194,130,2,3,131,195,67,99,227,163,35,51,179,243,115,83,211,147,19,27,155,219,91,123,251,187,59,43,171,235,107,75,203,139,11,15,143,207,79,111,239,175,47,63,191,255,127,95,223,159,31,23,151,215,87,119,247,183,55,39,167,231,103,71,199,135,7,5,133,197,69,101,229,165,37,53,181,245,117,85,213,149,21,29,157,221,93,125,253,189,61,45,173,237,109,77,205,141,13,9,137,201,73,105,233,169,41,57,185,249,121,89,217,153,25,17,145,209,81,113,241,177,49,33,161,225,97,65,193,129,1,1,129,193,65,97,225,161,33,49,177,241,113,81,209,145,17,25,153,217,89,121,249,185,57,...
预期结果：
[0,1,3,2,6,7,5,4,12,13,15,14,10,11,9,8,24,25,27,26,30,31,29,28,20,21,23,22,18,19,17,16,48,49,51,50,54,55,53,52,60,61,63,62,58,59,57,56,40,41,43,42,46,47,45,44,36,37,39,38,34,35,33,32,96,97,99,98,102,103,101,100,108,109,111,110,106,107,105,104,120,121,123,122,126,127,125,124,116,117,119,118,114,115,113,112,80,81,83,82,86,87,85,84,92,93,95,94,90,91,89,88,72,73,75,74,78,79,77,76,68,69,71,70,66,67,65,64,192,193,195,194,198,199,197,196,204,205,207,206,202,203,201,200,216,217,219,218,222,223,221,220,212,213,215,214,210,211,209,208,240,241,243,242,246,247,245,244,252,253,255,254,250,251,249,248,232,233,235,234,238,239,237,236,228,229,231,230,226,227,225,224,160,161,163,162,166,167,165,164,172,173,175,174,170,171,169,168,184,185,187,186,190,191,189,188,180,181,183,182,178,179,177,176,144,145,147,146,150,151,149,148,156,157,159,158,154,155,153,152,136,137,139,138,142,143,141,140,132,133,135,134,130,131,129,128,384,385,387,386,390,391,389,388,396,397,399,398,394,395,393,392,408,409,411,410,414,4...
*/
/*
这，明明就是翻译的python版本啊，为啥错了啊。。。
*/
